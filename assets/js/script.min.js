document.addEventListener("DOMContentLoaded",(function(){[].slice.call(document.querySelectorAll("[data-bss-tooltip]")).map((function(e){return new bootstrap.Tooltip(e)}))}),!1);const musicContainer=document.querySelector(".music-container"),playBtn=document.querySelector("#play"),prevBtn=document.querySelector("#prev"),nextBtn=document.querySelector("#next"),audio=document.querySelector("#audio"),progress=document.querySelector(".progress"),progressContainer=document.querySelector(".progress-container"),title=document.querySelector("#title"),cover=document.querySelector("#cover"),timeContainer=document.querySelector(".time"),currentTime=document.querySelector("#current-time"),durationTime=document.querySelector("#duration"),songs=["שיחה ללא נושא | על מבחנים, החיים ושירים","שיחה ללא נושא | גרמנית, ג'אווה ועוד שירים","שיחה ללא נושא | מעולמות שונים","?שיחה ללא נושא | לאן הגענו","שיחה ללא נושא | מה שלא היה נכנס - פרק בונוס",'שיחה ללא נושא | גילי אמרה לי לקרוא לפרק הזה "שיחה בנות" למרות שהוא לא',"שיחה ללא נושא | על הממשלה, גרעינים, ועוד","שיחה ללא נושא | קצת מזה וקצת מזה"],songPaths={"שיחה ללא נושא | על מבחנים, החיים ושירים":{audio:"../assets/audio/ATWAS/2201.mp3",cover:"../assets/img/ATWAS.png",duration:"01:08:37"},"שיחה ללא נושא | גרמנית, ג'אווה ועוד שירים":{audio:"../assets/audio/ATWAS/2202.mp3",cover:"../assets/img/ATWAS.png",duration:"01:02:22"},"שיחה ללא נושא | מעולמות שונים":{audio:"../assets/audio/ATWAS/2203.mp3",cover:"../assets/img/ATWAS.png",duration:"00:45:50"},"?שיחה ללא נושא | לאן הגענו":{audio:"../assets/audio/ATWAS/2204.mp3",cover:"../assets/img/ATWAS.png",duration:"00:39:04"},"שיחה ללא נושא | מה שלא היה נכנס - פרק בונוס":{audio:"../assets/audio/ATWAS/2205.mp3",cover:"../assets/img/ATWAS.png",duration:"00:21:19"},'שיחה ללא נושא | גילי אמרה לי לקרוא לפרק הזה "שיחה בנות" למרות שהוא לא':{audio:"../assets/audio/ATWAS/2206.mp3",cover:"../assets/img/ATWAS.png",duration:"00:50:59"},"שיחה ללא נושא | על הממשלה, גרעינים, ועוד":{audio:"../assets/audio/ATWAS/2207.mp3",cover:"../assets/img/ATWAS.png",duration:"00:55:37"},"שיחה ללא נושא | קצת מזה וקצת מזה":{audio:"../assets/audio/ATWAS/2308.mp3",cover:"../assets/img/ATWAS.png",duration:"00:43:18"}};var path=window.location.pathname,page=path.split("/").pop(),epNumberStr=page.replace("Ep","").replace(".html",""),epNumber=parseInt(epNumberStr),queryString=window.location.search,urlParams=new URLSearchParams(queryString),play=urlParams.get("play");let songIndex=epNumber-1;function loadSong(e){title.innerText=e,audio.src=songPaths[e].audio,cover.src=songPaths[e].cover,durationTime.textContent=songPaths[e].duration}function playSong(){window.history.replaceState({},document.title,"Ep"+epNumber+".html?play=true"),play="true",musicContainer.classList.add("play"),playBtn.querySelector("i.fas").classList.remove("fa-play"),playBtn.querySelector("i.fas").classList.add("fa-pause"),audio.play()}function pauseSong(){window.history.replaceState({},document.title,"Ep"+epNumber+".html?play=false"),play="false",musicContainer.classList.remove("play"),playBtn.querySelector("i.fas").classList.add("fa-play"),playBtn.querySelector("i.fas").classList.remove("fa-pause"),audio.pause()}function prevSong(){var e=epNumber-1;e<1&&(e=songs.length),window.location.href="true"==play?"Ep"+e+".html?play=true":"Ep"+e+".html?play=false"}function nextSong(){var e=epNumber+1;e>songs.length&&(e=1),window.location.href="true"==play?"Ep"+e+".html?play=true":"Ep"+e+".html?play=false"}function updateProgress(e){const{duration:t,currentTime:o}=e.srcElement,a=o/t*100;progress.style.width=`${a}%`;const n=Math.floor(t/3600),r=Math.floor(t/60);let s=Math.floor(t%60);s<10&&(s=`0${s}`),s&&(o.textContent=`${n?n+":":""}${r}:${s}`)}function setProgress(e){const t=this.clientWidth,o=e.offsetX,a=audio.duration;audio.currentTime=o/t*a;const n=Math.floor(a/3600),r=Math.floor(a/60);let s=Math.floor(a%60);s<10&&(s=`0${s}`),s&&(currentTime.textContent=`${n?n+":":""}${r}:${s}`)}loadSong(songs[songIndex]),"true"==play&&(loadSong(songs[songIndex]),playSong()),playBtn.addEventListener("click",(()=>{musicContainer.classList.contains("play")?pauseSong():playSong()})),prevBtn.addEventListener("click",prevSong),nextBtn.addEventListener("click",nextSong),audio.addEventListener("timeupdate",updateProgress),progressContainer.addEventListener("click",setProgress),audio.addEventListener("ended",nextSong);